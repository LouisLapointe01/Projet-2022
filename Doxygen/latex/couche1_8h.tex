\hypertarget{couche1_8h}{}\doxysection{Référence du fichier C\+:/\+Users/omard/\+Desktop/\+Projet\+\_\+\+S4\+\_\+grand\+\_\+final/couche1/couche1.h}
\label{couche1_8h}\index{C:/Users/omard/Desktop/Projet\_S4\_grand\_final/couche1/couche1.h@{C:/Users/omard/Desktop/Projet\_S4\_grand\_final/couche1/couche1.h}}


Header des fonctions pour la 1ère couche.  


{\ttfamily \#include \char`\"{}../global.\+h\char`\"{}}\newline
\doxysubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{couche1_8h_a04533aaa31d1ea5af4c89609ae2b4c4a}{error}} (const char $\ast$Message, int code\+\_\+erreur)
\begin{DoxyCompactList}\small\item\em Fonction fusionnant perror et exit. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche1_8h_a296a0525129ef3b60edb17391a9428d3}{init\+\_\+disk\+\_\+sos}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Initialisation du disque \+: ouverture du fichier d0 et création des valeurs dans le superblock. \end{DoxyCompactList}\item 
unsigned int \mbox{\hyperlink{couche1_8h_a115a6d3476832de2a7f15bde14b4fc35}{compute\+\_\+nblock}} (unsigned int nb\+\_\+byte, int block\+\_\+size)
\begin{DoxyCompactList}\small\item\em Calcule le nombre de block à créer selon la taille du fichier et la taille d\textquotesingle{}un block. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche1_8h_ad8080ab9be6b24bfd2cf65969812eeca}{write\+\_\+block}} (\mbox{\hyperlink{structblock__s}{block\+\_\+t}} block, unsigned int pos, FILE $\ast$file)
\begin{DoxyCompactList}\small\item\em Ecrit dans le fichier \textquotesingle{}file\textquotesingle{} le block à la position pos. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structblock__s}{block\+\_\+t}} \mbox{\hyperlink{couche1_8h_aa12a54fd468f85ab94ffc2d36f105908}{read\+\_\+block}} (unsigned int pos, FILE $\ast$file)
\begin{DoxyCompactList}\small\item\em Lit dans le fichier \textquotesingle{}file\textquotesingle{} le block à la position pos. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche1_8h_aea5106f48db9419ae773a69fe19df0f6}{print\+\_\+block}} (\mbox{\hyperlink{structblock__s}{block\+\_\+t}} block)
\begin{DoxyCompactList}\small\item\em Affichage en hex sur le stdout du contenu du block. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche1_8h_ad52add3e5fdc800a24a6a7dfea69bc79}{ajuster\+\_\+message}} (unsigned char $\ast$message)
\begin{DoxyCompactList}\small\item\em Concatenation du message par des espace jusqu\textquotesingle{}à ce que la taille du fichier atteigne un multiple de BLOCK\+\_\+\+SIZE. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche1_8h_af7d1e9ef88f748cdb1f4de2ec73dcdb6}{ouverture\+\_\+disque}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Ouvre le disque systeme d0 en lecture/écriture binaire. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche1_8h_a4b8a74625c5db080dcfbeccac0d46bdd}{fermeture\+\_\+disque}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Ferme le disque systeme d0. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{couche1_8h_a7c229486bc3f5a702197d94a767d9d1f}\label{couche1_8h_a7c229486bc3f5a702197d94a767d9d1f}} 
void {\bfseries foo\+\_\+test\+\_\+couche1} ()
\begin{DoxyCompactList}\small\item\em Fonction test de la couche 1. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Header des fonctions pour la 1ère couche. 

\begin{DoxyAuthor}{Auteur}
Clément Payart, Louis Lapointe, Mael Schiemsky 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2022-\/05-\/15
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2022 
\end{DoxyCopyright}


\doxysubsection{Documentation des fonctions}
\mbox{\Hypertarget{couche1_8h_ad52add3e5fdc800a24a6a7dfea69bc79}\label{couche1_8h_ad52add3e5fdc800a24a6a7dfea69bc79}} 
\index{couche1.h@{couche1.h}!ajuster\_message@{ajuster\_message}}
\index{ajuster\_message@{ajuster\_message}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{ajuster\_message()}{ajuster\_message()}}
{\footnotesize\ttfamily void ajuster\+\_\+message (\begin{DoxyParamCaption}\item[{unsigned char $\ast$}]{message }\end{DoxyParamCaption})}



Concatenation du message par des espace jusqu\textquotesingle{}à ce que la taille du fichier atteigne un multiple de BLOCK\+\_\+\+SIZE. 


\begin{DoxyParams}{Paramètres}
{\em message} & Message potentiellement modifié \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche1_8h_a115a6d3476832de2a7f15bde14b4fc35}\label{couche1_8h_a115a6d3476832de2a7f15bde14b4fc35}} 
\index{couche1.h@{couche1.h}!compute\_nblock@{compute\_nblock}}
\index{compute\_nblock@{compute\_nblock}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{compute\_nblock()}{compute\_nblock()}}
{\footnotesize\ttfamily unsigned int compute\+\_\+nblock (\begin{DoxyParamCaption}\item[{unsigned int}]{nb\+\_\+byte,  }\item[{int}]{block\+\_\+size }\end{DoxyParamCaption})}



Calcule le nombre de block à créer selon la taille du fichier et la taille d\textquotesingle{}un block. 


\begin{DoxyParams}{Paramètres}
{\em nb\+\_\+byte} & taille du fichier \\
\hline
{\em block\+\_\+size} & taille du block \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
unsigned int nombre de block 
\end{DoxyReturn}
\mbox{\Hypertarget{couche1_8h_a04533aaa31d1ea5af4c89609ae2b4c4a}\label{couche1_8h_a04533aaa31d1ea5af4c89609ae2b4c4a}} 
\index{couche1.h@{couche1.h}!error@{error}}
\index{error@{error}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{error()}{error()}}
{\footnotesize\ttfamily void error (\begin{DoxyParamCaption}\item[{const char $\ast$}]{Message,  }\item[{int}]{code\+\_\+erreur }\end{DoxyParamCaption})}



Fonction fusionnant perror et exit. 


\begin{DoxyParams}{Paramètres}
{\em Message} & Message à ecrire dans perror \\
\hline
{\em code\+\_\+erreur} & code d\textquotesingle{}erreur à écrire dans exit \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche1_8h_a4b8a74625c5db080dcfbeccac0d46bdd}\label{couche1_8h_a4b8a74625c5db080dcfbeccac0d46bdd}} 
\index{couche1.h@{couche1.h}!fermeture\_disque@{fermeture\_disque}}
\index{fermeture\_disque@{fermeture\_disque}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{fermeture\_disque()}{fermeture\_disque()}}
{\footnotesize\ttfamily void fermeture\+\_\+disque (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Ferme le disque systeme d0. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche1_8h_a296a0525129ef3b60edb17391a9428d3}\label{couche1_8h_a296a0525129ef3b60edb17391a9428d3}} 
\index{couche1.h@{couche1.h}!init\_disk\_sos@{init\_disk\_sos}}
\index{init\_disk\_sos@{init\_disk\_sos}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{init\_disk\_sos()}{init\_disk\_sos()}}
{\footnotesize\ttfamily void init\+\_\+disk\+\_\+sos (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Initialisation du disque \+: ouverture du fichier d0 et création des valeurs dans le superblock. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche1_8h_af7d1e9ef88f748cdb1f4de2ec73dcdb6}\label{couche1_8h_af7d1e9ef88f748cdb1f4de2ec73dcdb6}} 
\index{couche1.h@{couche1.h}!ouverture\_disque@{ouverture\_disque}}
\index{ouverture\_disque@{ouverture\_disque}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{ouverture\_disque()}{ouverture\_disque()}}
{\footnotesize\ttfamily void ouverture\+\_\+disque (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Ouvre le disque systeme d0 en lecture/écriture binaire. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & disque \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche1_8h_aea5106f48db9419ae773a69fe19df0f6}\label{couche1_8h_aea5106f48db9419ae773a69fe19df0f6}} 
\index{couche1.h@{couche1.h}!print\_block@{print\_block}}
\index{print\_block@{print\_block}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{print\_block()}{print\_block()}}
{\footnotesize\ttfamily void print\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structblock__s}{block\+\_\+t}}}]{block }\end{DoxyParamCaption})}



Affichage en hex sur le stdout du contenu du block. 


\begin{DoxyParams}{Paramètres}
{\em block} & block lu \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche1_8h_aa12a54fd468f85ab94ffc2d36f105908}\label{couche1_8h_aa12a54fd468f85ab94ffc2d36f105908}} 
\index{couche1.h@{couche1.h}!read\_block@{read\_block}}
\index{read\_block@{read\_block}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{read\_block()}{read\_block()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structblock__s}{block\+\_\+t}} read\+\_\+block (\begin{DoxyParamCaption}\item[{unsigned int}]{pos,  }\item[{FILE $\ast$}]{file }\end{DoxyParamCaption})}



Lit dans le fichier \textquotesingle{}file\textquotesingle{} le block à la position pos. 


\begin{DoxyParams}{Paramètres}
{\em pos} & position (octet) à laquelle il faut lire \\
\hline
{\em file} & Fichier de lecture \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
block\+\_\+t block contenant l\textquotesingle{}information lue 
\end{DoxyReturn}
\mbox{\Hypertarget{couche1_8h_ad8080ab9be6b24bfd2cf65969812eeca}\label{couche1_8h_ad8080ab9be6b24bfd2cf65969812eeca}} 
\index{couche1.h@{couche1.h}!write\_block@{write\_block}}
\index{write\_block@{write\_block}!couche1.h@{couche1.h}}
\doxysubsubsection{\texorpdfstring{write\_block()}{write\_block()}}
{\footnotesize\ttfamily void write\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structblock__s}{block\+\_\+t}}}]{block,  }\item[{unsigned int}]{pos,  }\item[{FILE $\ast$}]{file }\end{DoxyParamCaption})}



Ecrit dans le fichier \textquotesingle{}file\textquotesingle{} le block à la position pos. 


\begin{DoxyParams}{Paramètres}
{\em block} & block contenant l\textquotesingle{}information à écrire \\
\hline
{\em pos} & position (octet) à laquelle il faut écrire \\
\hline
{\em file} & Fichier de destination \\
\hline
\end{DoxyParams}
