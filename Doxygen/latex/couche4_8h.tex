\hypertarget{couche4_8h}{}\doxysection{Référence du fichier C\+:/\+Users/omard/\+Desktop/\+Projet\+\_\+\+S4\+\_\+grand\+\_\+final/couche4/couche4.h}
\label{couche4_8h}\index{C:/Users/omard/Desktop/Projet\_S4\_grand\_final/couche4/couche4.h@{C:/Users/omard/Desktop/Projet\_S4\_grand\_final/couche4/couche4.h}}


Header des fonctions pour la 4ème couche.  


{\ttfamily \#include \char`\"{}../global.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../couche1/couche1.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../couche2/couche2.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../couche3/couche3.\+h\char`\"{}}\newline
\doxysubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \mbox{\hyperlink{couche4_8h_a72607a796105b77b0aba27f424231e7a}{timestamp}} ()
\begin{DoxyCompactList}\small\item\em Retourne le temps actuel. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{couche4_8h_a73a2e3efe525d5514df697b450992e82}{file\+\_\+exist}} (char $\ast$filename, \mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk, int $\ast$index\+\_\+file)
\begin{DoxyCompactList}\small\item\em Renvoie un booleen \+: true si le nom du fichier existe dans la table d\textquotesingle{}inode du disque, false sinon. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche4_8h_a0df42838a2f5beba71abd042e38142ee}{write\+\_\+file}} (char $\ast$filename, \mbox{\hyperlink{structfile__s}{file\+\_\+t}} file, \mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk, \mbox{\hyperlink{structsession__s}{session\+\_\+t}} session)
\begin{DoxyCompactList}\small\item\em Ecrit le contenu du fichier file dans le disque. Le nom du fichier sera filename. Les droits d\textquotesingle{}utilisateur et autre sont mis à 0, seul le propriétaire a le droit de lecture par défaut. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{couche4_8h_a13503bfd351253cdb81bf231a6fc2d82}{read\+\_\+file}} (char $\ast$filename, \mbox{\hyperlink{structfile__s}{file\+\_\+t}} $\ast$file, \mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Lecture du fichier sur le disque selon le nom. Stocke l\textquotesingle{}information dans file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{couche4_8h_a111d9ffae38409fc4aea5e24de63b1c0}{delete\+\_\+file}} (char $\ast$filename, \mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Efface le fichier si celui ci existe. Remplace son contenu par des zéro. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche4_8h_ae695e463f01e1c3fc9f28a6170d72101}{load\+\_\+file\+\_\+from\+\_\+host}} (char $\ast$host, \mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$disk, \mbox{\hyperlink{structsession__s}{session\+\_\+t}} session)
\begin{DoxyCompactList}\small\item\em Recupère le contenu d\textquotesingle{}un fichier extérieur au disque interne pour écrire sur ce dernier. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche4_8h_ad0480b90b2cd3fb239a2f86bfc3717ef}{store\+\_\+file\+\_\+to\+\_\+host}} (char $\ast$file\+Name, \mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$disk)
\begin{DoxyCompactList}\small\item\em Recupère le contenu d\textquotesingle{}un fichier du disque et l\textquotesingle{}écrit sur un fichier externe qui aura le même nom. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{couche4_8h_ac3c0389db6fb756863edc0382510a0d8}\label{couche4_8h_ac3c0389db6fb756863edc0382510a0d8}} 
void {\bfseries foo\+\_\+test\+\_\+couche4} ()
\begin{DoxyCompactList}\small\item\em Fonction de test des fonctions de la couche 4. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Header des fonctions pour la 4ème couche. 

\begin{DoxyAuthor}{Auteur}
Clément Payart, Louis Lapointe, Mael Schiemsky 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2022-\/05-\/15
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2022 
\end{DoxyCopyright}


\doxysubsection{Documentation des fonctions}
\mbox{\Hypertarget{couche4_8h_a111d9ffae38409fc4aea5e24de63b1c0}\label{couche4_8h_a111d9ffae38409fc4aea5e24de63b1c0}} 
\index{couche4.h@{couche4.h}!delete\_file@{delete\_file}}
\index{delete\_file@{delete\_file}!couche4.h@{couche4.h}}
\doxysubsubsection{\texorpdfstring{delete\_file()}{delete\_file()}}
{\footnotesize\ttfamily int delete\+\_\+file (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename,  }\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Efface le fichier si celui ci existe. Remplace son contenu par des zéro. 


\begin{DoxyParams}{Paramètres}
{\em filename} & Nom du fichier à effacer \\
\hline
{\em virtual\+\_\+disk} & disque contenant potentiellement filename \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
int 
\end{DoxyReturn}
\mbox{\Hypertarget{couche4_8h_a73a2e3efe525d5514df697b450992e82}\label{couche4_8h_a73a2e3efe525d5514df697b450992e82}} 
\index{couche4.h@{couche4.h}!file\_exist@{file\_exist}}
\index{file\_exist@{file\_exist}!couche4.h@{couche4.h}}
\doxysubsubsection{\texorpdfstring{file\_exist()}{file\_exist()}}
{\footnotesize\ttfamily bool file\+\_\+exist (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename,  }\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk,  }\item[{int $\ast$}]{index\+\_\+file }\end{DoxyParamCaption})}



Renvoie un booleen \+: true si le nom du fichier existe dans la table d\textquotesingle{}inode du disque, false sinon. 


\begin{DoxyParams}{Paramètres}
{\em filename} & nom du fichier recherché dans le disque \\
\hline
{\em virtual\+\_\+disk} & disque contenant potentiellement le nom du fichier \\
\hline
{\em index\+\_\+file} & \+: Si le fichier existe, mémorise sa position dans la table d\textquotesingle{}inodes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
true Le fichier est présent sur le disque 

false Le fichier n\textquotesingle{}est pas présent sur le disque 
\end{DoxyReturn}
\mbox{\Hypertarget{couche4_8h_ae695e463f01e1c3fc9f28a6170d72101}\label{couche4_8h_ae695e463f01e1c3fc9f28a6170d72101}} 
\index{couche4.h@{couche4.h}!load\_file\_from\_host@{load\_file\_from\_host}}
\index{load\_file\_from\_host@{load\_file\_from\_host}!couche4.h@{couche4.h}}
\doxysubsubsection{\texorpdfstring{load\_file\_from\_host()}{load\_file\_from\_host()}}
{\footnotesize\ttfamily void load\+\_\+file\+\_\+from\+\_\+host (\begin{DoxyParamCaption}\item[{char $\ast$}]{host,  }\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{disk,  }\item[{\mbox{\hyperlink{structsession__s}{session\+\_\+t}}}]{session }\end{DoxyParamCaption})}



Recupère le contenu d\textquotesingle{}un fichier extérieur au disque interne pour écrire sur ce dernier. 


\begin{DoxyParams}{Paramètres}
{\em host} & fichier contenant le texte à écrire sur le disque \\
\hline
{\em disk} & disque sur lequel sera écrit le fichier \\
\hline
{\em session} & session de l\textquotesingle{}utilisateur \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche4_8h_a13503bfd351253cdb81bf231a6fc2d82}\label{couche4_8h_a13503bfd351253cdb81bf231a6fc2d82}} 
\index{couche4.h@{couche4.h}!read\_file@{read\_file}}
\index{read\_file@{read\_file}!couche4.h@{couche4.h}}
\doxysubsubsection{\texorpdfstring{read\_file()}{read\_file()}}
{\footnotesize\ttfamily int read\+\_\+file (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename,  }\item[{\mbox{\hyperlink{structfile__s}{file\+\_\+t}} $\ast$}]{file,  }\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Lecture du fichier sur le disque selon le nom. Stocke l\textquotesingle{}information dans file. 


\begin{DoxyParams}{Paramètres}
{\em filename} & nom du fichier à lire \\
\hline
{\em file} & contiendra le contenu du fichier \\
\hline
{\em virtual\+\_\+disk} & disque contenant potentiellement le fichier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
int code de retour si la lecture s\textquotesingle{}est bien déroulée 
\end{DoxyReturn}
\mbox{\Hypertarget{couche4_8h_ad0480b90b2cd3fb239a2f86bfc3717ef}\label{couche4_8h_ad0480b90b2cd3fb239a2f86bfc3717ef}} 
\index{couche4.h@{couche4.h}!store\_file\_to\_host@{store\_file\_to\_host}}
\index{store\_file\_to\_host@{store\_file\_to\_host}!couche4.h@{couche4.h}}
\doxysubsubsection{\texorpdfstring{store\_file\_to\_host()}{store\_file\_to\_host()}}
{\footnotesize\ttfamily void store\+\_\+file\+\_\+to\+\_\+host (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+Name,  }\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{disk }\end{DoxyParamCaption})}



Recupère le contenu d\textquotesingle{}un fichier du disque et l\textquotesingle{}écrit sur un fichier externe qui aura le même nom. 


\begin{DoxyParams}{Paramètres}
{\em file\+Name} & Nom du fichier contenu (potentiellement) dans le fichier \\
\hline
{\em disk} & disque contenant (?) le fichier filename \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche4_8h_a72607a796105b77b0aba27f424231e7a}\label{couche4_8h_a72607a796105b77b0aba27f424231e7a}} 
\index{couche4.h@{couche4.h}!timestamp@{timestamp}}
\index{timestamp@{timestamp}!couche4.h@{couche4.h}}
\doxysubsubsection{\texorpdfstring{timestamp()}{timestamp()}}
{\footnotesize\ttfamily char $\ast$ timestamp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Retourne le temps actuel. 

\begin{DoxyReturn}{Renvoie}
char$\ast$ Temps 
\end{DoxyReturn}
\mbox{\Hypertarget{couche4_8h_a0df42838a2f5beba71abd042e38142ee}\label{couche4_8h_a0df42838a2f5beba71abd042e38142ee}} 
\index{couche4.h@{couche4.h}!write\_file@{write\_file}}
\index{write\_file@{write\_file}!couche4.h@{couche4.h}}
\doxysubsubsection{\texorpdfstring{write\_file()}{write\_file()}}
{\footnotesize\ttfamily void write\+\_\+file (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename,  }\item[{\mbox{\hyperlink{structfile__s}{file\+\_\+t}}}]{file,  }\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk,  }\item[{\mbox{\hyperlink{structsession__s}{session\+\_\+t}}}]{session }\end{DoxyParamCaption})}



Ecrit le contenu du fichier file dans le disque. Le nom du fichier sera filename. Les droits d\textquotesingle{}utilisateur et autre sont mis à 0, seul le propriétaire a le droit de lecture par défaut. 


\begin{DoxyParams}{Paramètres}
{\em filename} & nom du fichier \\
\hline
{\em file} & structure contenant contenu fichier et taille du fichier \\
\hline
{\em virtual\+\_\+disk} & disque sur lequel écrire \\
\hline
{\em session} & session de l\textquotesingle{}utilisateur \\
\hline
\end{DoxyParams}
