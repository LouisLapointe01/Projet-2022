\hypertarget{couche2_8h}{}\doxysection{Référence du fichier C\+:/\+Users/omard/\+Desktop/\+Projet\+\_\+\+S4\+\_\+grand\+\_\+final/couche2/couche2.h}
\label{couche2_8h}\index{C:/Users/omard/Desktop/Projet\_S4\_grand\_final/couche2/couche2.h@{C:/Users/omard/Desktop/Projet\_S4\_grand\_final/couche2/couche2.h}}


Header des fonctions pour la 2ème couche.  


{\ttfamily \#include \char`\"{}../global.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../couche1/couche1.\+h\char`\"{}}\newline
\doxysubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{couche2_8h_a0ceb6122328aad608a3c9c11960c1f47}{write\+\_\+super\+\_\+block}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Ecrit le superblock à la position 0 sur le disque d0. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_ab31b7169eaa5242d6fceca44d5f42572}{read\+\_\+super\+\_\+block}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Lit le superblock sur le disque d0. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_a357cb52ccd1936a59458e1ea0af9e3f1}{change\+\_\+first\+\_\+byte}} (\mbox{\hyperlink{structsuper__block__s}{super\+\_\+block\+\_\+t}} $\ast$super\+\_\+block, unsigned int value)
\begin{DoxyCompactList}\small\item\em Change la valeur du premier octet libre sur le superblock. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_ae9b93e4cf07390657b4fa2fc4aa850d2}{print\+\_\+super\+\_\+block}} (\mbox{\hyperlink{structsuper__block__s}{super\+\_\+block\+\_\+t}} superblock)
\begin{DoxyCompactList}\small\item\em Affichage du contenu du superblock. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_a01a3597c5b668bf8e371ffb149894c4e}{read\+\_\+inodes\+\_\+table}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Lit la table d\textquotesingle{}inodes du fichier d0 contenu dans la structure virtual\+\_\+disk\+\_\+t. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_a14db98ebf68bc90d5bae54bf0ea7b9e5}{write\+\_\+inodes\+\_\+table}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Écrit sur la table d\textquotesingle{}inodes du fichier d0 contenu dans la structure virtual\+\_\+disk\+\_\+t. \end{DoxyCompactList}\item 
unsigned int \mbox{\hyperlink{couche2_8h_a480ee137d116c25767764b082c5c7ee6}{get\+\_\+unused\+\_\+inode}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Retourne l\textquotesingle{}indice de la première inode disponible sur la table d\textquotesingle{}inode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_a209f552ae2327e8258b2f4d1d110e3c1}{init\+\_\+inode}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk, const char $\ast$filename, unsigned int size, unsigned int pos)
\begin{DoxyCompactList}\small\item\em Initialise la table d\textquotesingle{}inodes \+: nom, taille et position. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_a03fa7d0fec465925d3c928dcb52138e2}{empty\+\_\+inode}} (\mbox{\hyperlink{structinode__s}{inode\+\_\+t}} $\ast$inode)
\begin{DoxyCompactList}\small\item\em Vide l\textquotesingle{}inode, valeurs à 0 et noms reinitialisés à \char`\"{}\char`\"{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_a45d3a09f4a911cfdc03beb3eec741919}{delete\+\_\+inode}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk, unsigned int indice)
\begin{DoxyCompactList}\small\item\em Suppression de l\textquotesingle{}inode positionnée à l\textquotesingle{}indice indice. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{couche2_8h_ae5b029f6d3e7092017ac58429418c966}\label{couche2_8h_ae5b029f6d3e7092017ac58429418c966}} 
void {\bfseries cmd\+\_\+dump\+\_\+inode} ()
\begin{DoxyCompactList}\small\item\em Fonction de test de la seconde couche. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{couche2_8h_ae2d5a98681d97602a8170f0be69d9101}{create\+\_\+empty\+\_\+inode\+\_\+table}} (\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$virtual\+\_\+disk)
\begin{DoxyCompactList}\small\item\em Initialise la table d\textquotesingle{}inode en vidant chacune des inodes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Header des fonctions pour la 2ème couche. 

\begin{DoxyAuthor}{Auteur}
Clément Payart, Louis Lapointe, Mael Schiemsky 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2022-\/05-\/15
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2022 
\end{DoxyCopyright}


\doxysubsection{Documentation des fonctions}
\mbox{\Hypertarget{couche2_8h_a357cb52ccd1936a59458e1ea0af9e3f1}\label{couche2_8h_a357cb52ccd1936a59458e1ea0af9e3f1}} 
\index{couche2.h@{couche2.h}!change\_first\_byte@{change\_first\_byte}}
\index{change\_first\_byte@{change\_first\_byte}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{change\_first\_byte()}{change\_first\_byte()}}
{\footnotesize\ttfamily void change\+\_\+first\+\_\+byte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsuper__block__s}{super\+\_\+block\+\_\+t}} $\ast$}]{super\+\_\+block,  }\item[{unsigned int}]{value }\end{DoxyParamCaption})}



Change la valeur du premier octet libre sur le superblock. 


\begin{DoxyParams}{Paramètres}
{\em super\+\_\+block} & superblock modifié \\
\hline
{\em value} & valeur à inserer dans le champ first\+\_\+free\+\_\+byte de super\+\_\+block \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_ae2d5a98681d97602a8170f0be69d9101}\label{couche2_8h_ae2d5a98681d97602a8170f0be69d9101}} 
\index{couche2.h@{couche2.h}!create\_empty\_inode\_table@{create\_empty\_inode\_table}}
\index{create\_empty\_inode\_table@{create\_empty\_inode\_table}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{create\_empty\_inode\_table()}{create\_empty\_inode\_table()}}
{\footnotesize\ttfamily void create\+\_\+empty\+\_\+inode\+\_\+table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Initialise la table d\textquotesingle{}inode en vidant chacune des inodes. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & structure contenant la table d\textquotesingle{}inode à vider \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_a45d3a09f4a911cfdc03beb3eec741919}\label{couche2_8h_a45d3a09f4a911cfdc03beb3eec741919}} 
\index{couche2.h@{couche2.h}!delete\_inode@{delete\_inode}}
\index{delete\_inode@{delete\_inode}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{delete\_inode()}{delete\_inode()}}
{\footnotesize\ttfamily void delete\+\_\+inode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk,  }\item[{unsigned int}]{indice }\end{DoxyParamCaption})}



Suppression de l\textquotesingle{}inode positionnée à l\textquotesingle{}indice indice. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & structure contenant l\textquotesingle{}inode à supprimer \\
\hline
{\em indice} & indice de l\textquotesingle{}inode à supprimer \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_a03fa7d0fec465925d3c928dcb52138e2}\label{couche2_8h_a03fa7d0fec465925d3c928dcb52138e2}} 
\index{couche2.h@{couche2.h}!empty\_inode@{empty\_inode}}
\index{empty\_inode@{empty\_inode}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{empty\_inode()}{empty\_inode()}}
{\footnotesize\ttfamily void empty\+\_\+inode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structinode__s}{inode\+\_\+t}} $\ast$}]{inode }\end{DoxyParamCaption})}



Vide l\textquotesingle{}inode, valeurs à 0 et noms reinitialisés à \char`\"{}\char`\"{}. 


\begin{DoxyParams}{Paramètres}
{\em inode} & inode remis à zéro \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_a480ee137d116c25767764b082c5c7ee6}\label{couche2_8h_a480ee137d116c25767764b082c5c7ee6}} 
\index{couche2.h@{couche2.h}!get\_unused\_inode@{get\_unused\_inode}}
\index{get\_unused\_inode@{get\_unused\_inode}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{get\_unused\_inode()}{get\_unused\_inode()}}
{\footnotesize\ttfamily unsigned int get\+\_\+unused\+\_\+inode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Retourne l\textquotesingle{}indice de la première inode disponible sur la table d\textquotesingle{}inode. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & disque contenant la table d\textquotesingle{}inodes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Indice de la table d\textquotesingle{}inode 
\end{DoxyReturn}
\mbox{\Hypertarget{couche2_8h_a209f552ae2327e8258b2f4d1d110e3c1}\label{couche2_8h_a209f552ae2327e8258b2f4d1d110e3c1}} 
\index{couche2.h@{couche2.h}!init\_inode@{init\_inode}}
\index{init\_inode@{init\_inode}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{init\_inode()}{init\_inode()}}
{\footnotesize\ttfamily void init\+\_\+inode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk,  }\item[{const char $\ast$}]{filename,  }\item[{unsigned int}]{size,  }\item[{unsigned int}]{pos }\end{DoxyParamCaption})}



Initialise la table d\textquotesingle{}inodes \+: nom, taille et position. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & structure contenant l\textquotesingle{}inode à initialiser \\
\hline
{\em filename} & nom du ficher \\
\hline
{\em size} & taille du fichier \\
\hline
{\em pos} & position du fichier \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_ae9b93e4cf07390657b4fa2fc4aa850d2}\label{couche2_8h_ae9b93e4cf07390657b4fa2fc4aa850d2}} 
\index{couche2.h@{couche2.h}!print\_super\_block@{print\_super\_block}}
\index{print\_super\_block@{print\_super\_block}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{print\_super\_block()}{print\_super\_block()}}
{\footnotesize\ttfamily void print\+\_\+super\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsuper__block__s}{super\+\_\+block\+\_\+t}}}]{superblock }\end{DoxyParamCaption})}



Affichage du contenu du superblock. 


\begin{DoxyParams}{Paramètres}
{\em superblock} & Superblock affiché \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_a01a3597c5b668bf8e371ffb149894c4e}\label{couche2_8h_a01a3597c5b668bf8e371ffb149894c4e}} 
\index{couche2.h@{couche2.h}!read\_inodes\_table@{read\_inodes\_table}}
\index{read\_inodes\_table@{read\_inodes\_table}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{read\_inodes\_table()}{read\_inodes\_table()}}
{\footnotesize\ttfamily void read\+\_\+inodes\+\_\+table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Lit la table d\textquotesingle{}inodes du fichier d0 contenu dans la structure virtual\+\_\+disk\+\_\+t. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & structure contenant le fichier d0 et la table d\textquotesingle{}inodes \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_ab31b7169eaa5242d6fceca44d5f42572}\label{couche2_8h_ab31b7169eaa5242d6fceca44d5f42572}} 
\index{couche2.h@{couche2.h}!read\_super\_block@{read\_super\_block}}
\index{read\_super\_block@{read\_super\_block}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{read\_super\_block()}{read\_super\_block()}}
{\footnotesize\ttfamily void read\+\_\+super\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Lit le superblock sur le disque d0. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & Structure disque contenant le superblock à lire et l\textquotesingle{}accès au fichier d0 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_a14db98ebf68bc90d5bae54bf0ea7b9e5}\label{couche2_8h_a14db98ebf68bc90d5bae54bf0ea7b9e5}} 
\index{couche2.h@{couche2.h}!write\_inodes\_table@{write\_inodes\_table}}
\index{write\_inodes\_table@{write\_inodes\_table}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{write\_inodes\_table()}{write\_inodes\_table()}}
{\footnotesize\ttfamily void write\+\_\+inodes\+\_\+table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Écrit sur la table d\textquotesingle{}inodes du fichier d0 contenu dans la structure virtual\+\_\+disk\+\_\+t. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & structure contenant le fichier d0 et la table d\textquotesingle{}inodes \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{couche2_8h_a0ceb6122328aad608a3c9c11960c1f47}\label{couche2_8h_a0ceb6122328aad608a3c9c11960c1f47}} 
\index{couche2.h@{couche2.h}!write\_super\_block@{write\_super\_block}}
\index{write\_super\_block@{write\_super\_block}!couche2.h@{couche2.h}}
\doxysubsubsection{\texorpdfstring{write\_super\_block()}{write\_super\_block()}}
{\footnotesize\ttfamily void write\+\_\+super\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvirtual__disk__s}{virtual\+\_\+disk\+\_\+t}} $\ast$}]{virtual\+\_\+disk }\end{DoxyParamCaption})}



Ecrit le superblock à la position 0 sur le disque d0. 


\begin{DoxyParams}{Paramètres}
{\em virtual\+\_\+disk} & Structure disque contenant le superblock à écrire et l\textquotesingle{}accès au fichier d0 \\
\hline
\end{DoxyParams}
